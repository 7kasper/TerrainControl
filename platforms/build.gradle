// Build script that creates a JAR with both the Forge and Bukkit version of Terrain Control

// There are currently some issues with this file, see the settings.gradle
// file in the project root for more information.

buildscript
{
    repositories
    {
        mavenCentral()
        mavenLocal()
        jcenter() // For Shadow plugin
        maven
        {
            url = "http://files.minecraftforge.net/maven"
        }
        maven
        {
            url = "https://oss.sonatype.org/content/repositories/snapshots/"
        }
    }
    dependencies
    {
        classpath 'net.minecraftforge.gradle:ForgeGradle:1.1-SNAPSHOT'
        classpath 'com.github.jengelman.gradle.plugins:shadow:0.8'
    }
}

apply plugin: 'shadow'
apply plugin: 'forge'
apply plugin: 'java'

repositories
{
	mavenLocal()
	maven // For Bukkit and CraftBukkit
    {
        url "http://repo.bukkit.org/content/groups/public"
    }
    mavenCentral() // For log4j
}

dependencies
{
    compile project(':common')
    compile project(':platforms/bukkit')
    compile project(':platforms/forge')
}

// Project properties
archivesBaseName = "terraincontrol-release"
description = "The Forge and Bukkit version of TerrainControl in one file"
minecraft.version = "1.7.2-10.12.0.1013"

// Include all Terrain Control files in the jar
shadow
{
    artifactAttached = false
    include 'com/khorn/terraincontrol/**'
}